---
- name: create partition
  import_tasks: partitions.yml
  tags:
    - partition
      
- name: extend exisiting volgroup
  import_tasks: volgroup.yml
  tags: 
    - volgroup

- name: create logical volume
  import_tasks: lvm.yml
  tags:
    - lvm

- name: add line to fstab
  import_tasks: fstab.yml
  tags:
    - fstab
################################################################

- name: extend opt volume
  import_tasks: opt.yml
  tags:
    - opt
    - never

- name: extend data volume
  import_tasks: data.yml
  tags:
    - data
    - never

  #- name: Mount filesystems
  #  mount:
  #    path: "/mnt/{{ item.filesystem }}"
  #    src: "{{ item.device }}{{ item.partition }}"
  #    fstype: "{{ item.filesystem }}"
  #    state: mounted
  #  with_items: "{{ partition_data }}"
