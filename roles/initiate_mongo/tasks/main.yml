---
- include_tasks: initiate_config.yml
  when: (config1 is defined) and (ansible_hostname == config1)

- include_tasks: initiate_shard1.yml
  when: (shard1a is defined) and (ansible_hostname == shard1a)

- include_tasks: initiate_shard2.yml
  when: (shard2a is defined) and (ansible_hostname == shard2a)

- include_tasks: initiate_shard3.yml  
  when: (shard3a is defined) and (ansible_hostname == shard3a)

- include_tasks: add_shards_to_cluster.yml
  when: (config1 is defined) and (ansible_hostname == config1)  
