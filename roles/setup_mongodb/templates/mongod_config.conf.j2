systemLog:
  destination: file
  path: "/var/log/mongodb/{{ env }}/config-{{ repset }}.log"
  logAppend: true
  logRotate: reopen
processManagement:
  fork: true
  pidFilePath: "/var/run/mongodb/{{ env }}/mongod-config-{{ repset }}.pid"
#security:
#  keyFile: "/data/{{ env }}/keyfile.pem"
net:
{% if repset is defined and repset == 'rs_a' %}
  port: 57040
{% endif %}
{% if repset is defined and repset == 'rs_b' %}
  port: 57041
{% endif %}
{% if repset is defined and repset == 'rs_c' %}
  port: 57042
{% endif %}
  bindIp: localhost,{{ ansible_hostname }}.opr.afsiep.net
  tls:
   mode: allowTLS
   certificateKeyFile: /var/lib/mongodb/cert/KeyWCert.pem
   certificateKeyFilePassword: {{ tlspass }}
sharding:
  clusterRole: configsvr
replication:
  replSetName: config_{{ env }}
storage:
  dbPath: /data/{{ env }}/config/{{ repset }}
#  wiredTiger:
#    engineConfig:
#      cacheSizeGB: 5

